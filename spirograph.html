<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spirograph - Alex YalÄ±n</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/jpeg" href="assets/avatar.jpg">
    <style>
        body, html { margin: 0; padding: 0; overflow: hidden; background-color: #050505; color: #eee; }
        canvas { display: block; }
        .overlay {
            position: absolute;
            top: 20px;
            left: 20px;
            pointer-events: none;
            z-index: 10;
        }
        .overlay h1 {
            font-family: 'Inter', sans-serif;
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 0 0 10px rgba(255,100,200,0.3);
        }
        .overlay p {
            font-family: 'Lora', serif;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
            margin: 5px 0 0 0;
        }
        .back-link {
            position: absolute;
            bottom: 20px;
            left: 20px;
            font-family: 'Inter', sans-serif;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.4);
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: all 0.3s;
            pointer-events: auto;
        }
        .back-link:hover {
            color: #fff;
            border-bottom-color: #fff;
        }
    </style>
</head>
<body>
    <div class="overlay">
        <h1>Spirograph</h1>
        <p>Mathematical harmony. Cycles within cycles.</p>
    </div>
    
    <a href="gallery.html" class="back-link">&larr; Back to Gallery</a>

    <canvas id="spiroCanvas"></canvas>

    <script>
        const canvas = document.getElementById('spiroCanvas');
        const ctx = canvas.getContext('2d');

        let width, height;
        let t = 0;
        
        // Parameters
        let R = 150; // Outer radius
        let r = 52;  // Inner radius
        let d = 70;  // Distance from center of inner circle
        
        // Change params over time to animate
        
        function init() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            ctx.fillStyle = '#050505';
            ctx.fillRect(0, 0, width, height);
        }

        function draw() {
            // Fade out old lines slowly
            ctx.fillStyle = 'rgba(5, 5, 5, 0.02)';
            ctx.fillRect(0, 0, width, height);

            ctx.translate(width / 2, height / 2);
            
            ctx.beginPath();
            
            // Draw a segment
            for(let i=0; i<100; i++) {
                t += 0.05;
                
                // Modulate parameters for evolving shape
                // R += Math.sin(t*0.01)*0.1;
                // r = 50 + Math.sin(t*0.005)*20;
                
                // Hypotrochoid equations
                // x = (R - r) * cos(theta) + d * cos(((R - r) / r) * theta)
                // y = (R - r) * sin(theta) - d * sin(((R - r) / r) * theta)
                
                const theta = t;
                const x = (R - r) * Math.cos(theta) + d * Math.cos(((R - r) / r) * theta);
                const y = (R - r) * Math.sin(theta) - d * Math.sin(((R - r) / r) * theta);
                
                if(i===0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            
            // Color cycling
            const hue = (t * 5) % 360;
            ctx.strokeStyle = `hsla(${hue}, 100%, 60%, 0.5)`;
            ctx.lineWidth = 1;
            ctx.stroke();

            ctx.resetTransform();
            requestAnimationFrame(draw);
        }

        window.addEventListener('resize', init);
        init();
        draw();
    </script>
</body>
</html>